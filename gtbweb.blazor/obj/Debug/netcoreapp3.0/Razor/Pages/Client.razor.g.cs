#pragma checksum "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a862c68f2d540eef9bb4e7fb73b870b67b163414"
// <auto-generated/>
#pragma warning disable 1591
namespace gtbweb.blazor.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using gtbweb.blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/_Imports.razor"
using gtbweb.blazor.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
using RestSharp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
using System.Net.Http.Headers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
using IdentityModel.Client;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/client")]
    public class Client : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<h1>Get Profile</h1>\r\n");
            __builder.OpenElement(1, "p");
            __builder.AddContent(2, "Result: ");
            __builder.AddContent(3, 
#nullable restore
#line 10 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
            c

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 12 "/mnt/c/users/olukowi/gtbweb/gtbweb.blazor/Pages/Client.razor"
       

      String c;

    protected override async Task OnInitializedAsync()
    {
        var restClient = new HttpClient();
        var disco= await restClient.GetDiscoveryDocumentAsync("http://localhost:5000/");
        
        var tokenresponse = await restClient.RequestClientCredentialsTokenAsync(new ClientCredentialsTokenRequest
        {
            Address = disco.TokenEndpoint,
            ClientId="client1",
            ClientSecret="d0505cb2ce394abe8b0c235d31b6a5f5",
            Scope="api1"
        });
        restClient.SetBearerToken(tokenresponse.AccessToken);
       
        var response=await restClient.GetAsync("http://localhost:5003/api/profile/");
        c = response.Content.ReadAsStringAsync().Result;
        
    }

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
